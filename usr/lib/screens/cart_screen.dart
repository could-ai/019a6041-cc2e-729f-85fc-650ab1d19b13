import 'package:flutter/material.dart';\nimport '../models/phone.dart';\n\nclass CartScreen extends StatefulWidget {\n  final List<Phone> cartItems;\n\n  const CartScreen({super.key, required this.cartItems});\n\n  @override\n  State<CartScreen> createState() => _CartScreenState();\n}\n\nclass _CartScreenState extends State<CartScreen> {\n  double get totalPrice {\n    return widget.cartItems.fold(0, (sum, item) => sum + item.price);\n  }\n\n  void removeFromCart(int index) {\n    setState(() {\n      widget.cartItems.removeAt(index);\n    });\n  }\n\n  void checkout() {\n    if (widget.cartItems.isEmpty) {\n      ScaffoldMessenger.of(context).showSnackBar(\n        const SnackBar(content: Text('Cart is empty')),\n      );\n      return;\n    }\n\n    showDialog(\n      context: context,\n      builder: (context) => AlertDialog(\n        title: const Text('Checkout'),\n        content: Column(\n          mainAxisSize: MainAxisSize.min,\n          crossAxisAlignment: CrossAxisAlignment.start,\n          children: [\n            const Text('Order Summary:'),\n            const SizedBox(height: 12),\n            Text('Items: ${widget.cartItems.length}'),\n            const SizedBox(height: 8),\n            Text(\n              'Total: \$${totalPrice.toStringAsFixed(2)}',\n              style: const TextStyle(\n                fontSize: 18,\n                fontWeight: FontWeight.bold,\n              ),\n            ),\n            const SizedBox(height: 16),\n            const Text(\n              'Thank you for your purchase!\nYour order will be delivered soon.',\n              style: TextStyle(color: Colors.grey),\n            ),\n          ],\n        ),\n        actions: [\n          TextButton(\n            onPressed: () {\n              Navigator.pop(context);\n              setState(() {\n                widget.cartItems.clear();\n              });\n              Navigator.pop(context);\n            },\n            child: const Text('OK'),\n          ),\n        ],\n      ),\n    );\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('Shopping Cart', style: TextStyle(fontWeight: FontWeight.bold)),\n        elevation: 0,\n      ),\n      body: widget.cartItems.isEmpty\n          ? Center(\n              child: Column(\n                mainAxisAlignment: MainAxisAlignment.center,\n                children: [\n                  Icon(\n                    Icons.shopping_cart_outlined,\n                    size: 100,\n                    color: Colors.grey[400],\n                  ),\n                  const SizedBox(height: 16),\n                  Text(\n                    'Your cart is empty',\n                    style: TextStyle(\n                      fontSize: 20,\n                      color: Colors.grey[600],\n                      fontWeight: FontWeight.w500,\n                    ),\n                  ),\n                  const SizedBox(height: 8),\n                  Text(\n                    'Add some phones to get started',\n                    style: TextStyle(\n                      fontSize: 14,\n                      color: Colors.grey[500],\n                    ),\n                  ),\n                ],\n              ),\n            )\n          : Column(\n              children: [\n                Expanded(\n                  child: ListView.builder(\n                    padding: const EdgeInsets.all(16),\n                    itemCount: widget.cartItems.length,\n                    itemBuilder: (context, index) {\n                      final phone = widget.cartItems[index];\n                      return Card(\n                        margin: const EdgeInsets.only(bottom: 12),\n                        child: Padding(\n                          padding: const EdgeInsets.all(12),\n                          child: Row(\n                            children: [\n                              // Phone Image\n                              Container(\n                                width: 80,\n                                height: 80,\n                                decoration: BoxDecoration(\n                                  color: Colors.grey[100],\n                                  borderRadius: BorderRadius.circular(8),\n                                ),\n                                child: ClipRRect(\n                                  borderRadius: BorderRadius.circular(8),\n                                  child: Image.network(\n                                    phone.imageUrl,\n                                    fit: BoxFit.cover,\n                                    errorBuilder: (context, error, stackTrace) {\n                                      return Icon(\n                                        Icons.phone_android,\n                                        size: 40,\n                                        color: Colors.grey[400],\n                                      );\n                                    },\n                                  ),\n                                ),\n                              ),\n                              const SizedBox(width: 12),\n                              // Phone Info\n                              Expanded(\n                                child: Column(\n                                  crossAxisAlignment: CrossAxisAlignment.start,\n                                  children: [\n                                    Text(\n                                      phone.brand,\n                                      style: TextStyle(\n                                        fontSize: 12,\n                                        color: Colors.grey[600],\n                                      ),\n                                    ),\n                                    const SizedBox(height: 4),\n                                    Text(\n                                      phone.name,\n                                      style: const TextStyle(\n                                        fontSize: 16,\n                                        fontWeight: FontWeight.bold,\n                                      ),\n                                      maxLines: 2,\n                                      overflow: TextOverflow.ellipsis,\n                                    ),\n                                    const SizedBox(height: 8),\n                                    Text(\n                                      '\$${phone.price.toStringAsFixed(2)}',\n                                      style: TextStyle(\n                                        fontSize: 18,\n                                        fontWeight: FontWeight.bold,\n                                        color: Theme.of(context).colorScheme.primary,\n                                      ),\n                                    ),\n                                  ],\n                                ),\n                              ),\n                              // Remove Button\n                              IconButton(\n                                icon: const Icon(Icons.delete_outline),\n                                color: Colors.red,\n                                onPressed: () => removeFromCart(index),\n                              ),\n                            ],\n                          ),\n                        ),\n                      );\n                    },\n                  ),\n                ),\n                // Bottom Summary\n                Container(\n                  padding: const EdgeInsets.all(20),\n                  decoration: BoxDecoration(\n                    color: Colors.white,\n                    boxShadow: [\n                      BoxShadow(\n                        color: Colors.black.withOpacity(0.1),\n                        blurRadius: 10,\n                        offset: const Offset(0, -5),\n                      ),\n                    ],\n                  ),\n                  child: SafeArea(\n                    child: Column(\n                      children: [\n                        Row(\n                          mainAxisAlignment: MainAxisAlignment.spaceBetween,\n                          children: [\n                            const Text(\n                              'Total:',\n                              style: TextStyle(\n                                fontSize: 20,\n                                fontWeight: FontWeight.w600,\n                              ),\n                            ),\n                            Text(\n                              '\$${totalPrice.toStringAsFixed(2)}',\n                              style: TextStyle(\n                                fontSize: 24,\n                                fontWeight: FontWeight.bold,\n                                color: Theme.of(context).colorScheme.primary,\n                              ),\n                            ),\n                          ],\n                        ),\n                        const SizedBox(height: 16),\n                        SizedBox(\n                          width: double.infinity,\n                          child: ElevatedButton(\n                            onPressed: checkout,\n                            style: ElevatedButton.styleFrom(\n                              backgroundColor: Theme.of(context).colorScheme.primary,\n                              foregroundColor: Colors.white,\n                              padding: const EdgeInsets.symmetric(vertical: 16),\n                              shape: RoundedRectangleBorder(\n                                borderRadius: BorderRadius.circular(12),\n                              ),\n                            ),\n                            child: const Text(\n                              'Checkout',\n                              style: TextStyle(\n                                fontSize: 18,\n                                fontWeight: FontWeight.bold,\n                              ),\n                            ),\n                          ),\n                        ),\n                      ],\n                    ),\n                  ),\n                ),\n              ],\n            ),\n    );\n  }\n}